import{r as s,u as G,a as Q,j as e,A as H}from"./index-BD6XNHdC.js";import{D as W}from"./DayPicker-Bq0JWgYY.js";function X(){const[i,b]=s.useState(!1),[a,x]=s.useState(""),[r,g]=s.useState(""),[c,j]=s.useState(""),[l,k]=s.useState(""),[d,w]=s.useState(1),[o,P]=s.useState(""),[p,v]=s.useState("00:00"),[f,N]=s.useState(""),[S,C]=s.useState("00:00"),[R,y]=s.useState(1),[D,u]=s.useState(!1),[L,O]=s.useState(!1),[I,T]=s.useState("");return{shouldShowReturnUI:i,setWantsReturnTrip:b,pickupLocation:a,setPickupLocation:x,pickupInput:r,setPickupInput:g,dropOffLocation:c,setDropOffLocation:j,dropOffInput:l,setDropOffInput:k,passengerCount:d,setPassengerCount:w,returnDate:o,setReturnDate:P,returnHour:p,setReturnHour:v,pickupDate:f,setPickupDate:N,pickupHour:S,setPickupHour:C,returnPassengerCount:R,setReturnPassengerCount:y,isPickupOpen:D,setIsPickupOpen:u,isReturnOpen:L,setReturnOpen:O,errorText:I,setErrorText:T}}const te=s.memo(function(){const{shouldShowReturnUI:i,setWantsReturnTrip:b,pickupLocation:a,setPickupLocation:x,dropOffLocation:r,setDropOffLocation:g,passengerCount:c,setPassengerCount:j,returnDate:l,setReturnDate:k,returnHour:d,setReturnHour:w,pickupDate:o,setPickupDate:P,pickupHour:p,setPickupHour:v,returnPassengerCount:f,setReturnPassengerCount:N,isPickupOpen:S,setIsPickupOpen:C,isReturnOpen:R,setReturnOpen:y,errorText:D,setErrorText:u}=X(),L=()=>{C(t=>!t)},O=()=>{y(t=>!t)},I=["places","geometry"],{isLoaded:T}=G({id:"google-map-script",googleMapsApiKey:"AIzaSyAgnp8azpZeKDhalpnFadk00RxnCulWBNM",libraries:I}),q=s.useMemo(()=>({types:["airport"],componentRestrictions:{country:"tr"}}),[]),Z=s.useMemo(()=>({componentRestrictions:{country:"tr"}}),[]);function E(t){const n=t.target.value;v(n)}function B(t){const n=t.toString().slice(0,15);P(n)}function U(t){const n=t.target.value;w(n)}function z(t){const n=t.toString().slice(0,15);k(n)}const J=t=>{b(t.target.checked)},K=Q(),V=()=>!a||!r||!o||!p||!c?(u("Please fill in all fields."),!1):a===r?a===""||r===""?(u("Please fill in location fields."),!1):(u("Pickup and drop-off locations cannot be the same."),!1):i&&(!l||!d||!f)?(u("Please fill in all return fields."),!1):!0,_=()=>{const t={pickupLocation:a,dropOffLocation:r,pickupDate:o,pickupHour:p,passengerCount:c,shouldShowReturnUI:!i,returnDate:l,returnHour:d,returnPassengerCount:f};localStorage.setItem("formVariables",JSON.stringify(t))},$=t=>{t.preventDefault(),V()&&(_(),K("vehicle-features"))},M=s.useRef(null),A=s.useRef(null),F=(t,n)=>{const m=t.current.getPlace();if(!m.geometry){n("");return}const h=m.geometry.location;n({lat:h.lat(),lng:h.lng(),name:m.name,address:m.formatted_address}),console.log(m.formatted_address),console.log(h.lat()),console.log(h.lng())};return e.jsx(e.Fragment,{children:T&&e.jsxs("form",{className:"bg-base-300 w-full rounded-box p-5 flex flex-col justify-between h-fit gap-3 shadow-xl",onSubmit:$,children:[e.jsx("p",{className:"font-semibold text-red-500",children:D}),e.jsxs("fieldset",{className:"flex gap-3 w-fit",children:[e.jsx("input",{type:"checkbox",className:"toggle checked:text-warning","aria-label":"add return trip",checked:i,onChange:J}),e.jsx("p",{children:"I want a return transfer."})]}),e.jsxs("fieldset",{className:"fieldset",children:[e.jsx("legend",{className:"font-semibold text-sm",children:"From (We only operate on Turkey.)"}),e.jsxs("label",{className:"input  focus-within:outline-0 w-full ",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 opacity-80",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),e.jsx("div",{className:"w-full",children:e.jsx(H,{onLoad:t=>M.current=t,onPlaceChanged:()=>F(M,x),options:q,children:e.jsx("input",{type:"text",id:"autocomplete",required:!0,value:a.name,onChange:t=>x(t.target.value),placeholder:"Airport"})})})]})]}),e.jsxs("fieldset",{className:"fieldset ",children:[e.jsx("legend",{className:"font-semibold text-sm",children:"To (We only operate on Turkey.)"}),e.jsxs("label",{className:"input focus-within:outline-0 w-full",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 opacity-80",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})]}),e.jsx("div",{className:"w-full",children:e.jsx(H,{onLoad:t=>A.current=t,onPlaceChanged:()=>F(A,g),options:Z,children:e.jsx("input",{type:"text",id:"autocomplete",required:!0,value:r.name,onChange:t=>g(t.target.value),placeholder:"Address,airport,hotel..."})})})]})]}),e.jsx("fieldset",{className:"fieldset flex",children:e.jsxs("div",{className:"w-full border border-base-300 rounded-box",children:[e.jsx("div",{className:"collapse-title text-sm font-semibold bg-base-100 cursor-pointer",onClick:L,children:"Pickup Date and Time"}),S&&e.jsxs("div",{className:"md:p-4 bg-base-200 rounded-b-box",children:[e.jsx(W,{mode:"single",required:!0,disabled:{before:new Date},selected:o,onSelect:B,className:"bg-base-300 rounded-box md:p-3 mb-4 w-full flex flex-col items-center",footer:o?`Pickup Date: ${o}`:""}),e.jsx("input",{type:"time",required:!0,className:"input focus-within:outline-0 w-full text-primary",value:p,onChange:E})]})]})}),e.jsxs("fieldset",{className:"fieldset flex focus-within:outline-0",children:[e.jsx("legend",{className:"font-semibold text-sm",children:"Passenger Count (Max - 10)"}),e.jsx("input",{type:"number",className:"input validator focus-within:outline-0 w-full",placeholder:"Passengers (1-10)",min:"1",max:"10",title:"Passenger Count",value:c,onChange:t=>j(parseInt(t.target.value))})]}),i&&e.jsxs(e.Fragment,{children:[e.jsx("fieldset",{className:"fieldset flex",children:e.jsxs("div",{className:"w-full border border-base-300 rounded-box",children:[e.jsx("div",{className:"collapse-title text-sm font-semibold bg-base-100 cursor-pointer",onClick:O,children:"Return Date and Time"}),R&&e.jsxs("div",{className:"md:p-4 bg-base-200 rounded-b-box",children:[e.jsx(W,{mode:"single",required:!0,disabled:{before:o},selected:l,onSelect:z,className:"bg-base-300 rounded-box md:p-3 mb-4 w-full flex flex-col items-center",footer:l?`Return Date: ${l}`:""}),e.jsx("input",{type:"time",required:!0,className:"input focus-within:outline-0 w-full text-primary",value:d,onChange:U})]})]})}),e.jsxs("fieldset",{className:"fieldset flex focus-within:outline-0",children:[e.jsx("legend",{className:"font-semibold text-sm",children:"Return Passenger Count (Max - 10 )"}),e.jsx("input",{type:"number",className:"input validator focus-within:outline-0 w-full",placeholder:"Passengers (1-10)",min:"1",max:"10",title:"Passenger Count",value:f,onChange:t=>N(parseInt(t.target.value,10))})]})]}),e.jsx("button",{className:"btn btn-primary w-full hover:bg-gray-200 hover:text-black",children:"Search"})]})})});export{te as default};
